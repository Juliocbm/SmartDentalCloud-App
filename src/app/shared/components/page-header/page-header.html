<div class="page-header">
  <div class="header-main">
    <!-- Back Button -->
    @if (showBackButton) {
      <button 
        class="back-button" 
        (click)="onBackClick()"
        type="button"
        aria-label="Volver"
      >
        <i class="fa-solid fa-arrow-left"></i>
      </button>
    }

    <!-- Header Content -->
    <div class="header-content">
      <!-- Breadcrumbs -->
      @if (breadcrumbs.length > 0) {
        <nav class="breadcrumbs" aria-label="NavegaciÃ³n de ruta">
          <ol class="breadcrumb-list">
            @for (crumb of breadcrumbs; track $index; let isLast = $last) {
              <li class="breadcrumb-item" [class.active]="isLast">
                @if (crumb.route && !isLast) {
                  <a 
                    class="breadcrumb-link"
                    (click)="navigateToBreadcrumb(crumb.route)"
                    role="button"
                    tabindex="0"
                  >
                    @if (crumb.icon) {
                      <i class="fa-solid" [ngClass]="crumb.icon"></i>
                    }
                    {{ crumb.label }}
                  </a>
                } @else {
                  <span class="breadcrumb-current">
                    @if (crumb.icon) {
                      <i class="fa-solid" [ngClass]="crumb.icon"></i>
                    }
                    {{ crumb.label }}
                  </span>
                }
                @if (!isLast) {
                  <i class="fa-solid fa-chevron-right breadcrumb-separator"></i>
                }
              </li>
            }
          </ol>
        </nav>
      }

      <!-- Title and Subtitle -->
      <div class="title-section">
        <h1 class="page-title">
          @if (icon) {
            <i class="fa-solid" [ngClass]="icon"></i>
          }
          <span class="page-title-text">{{ title }}</span>
          <ng-content select="[title-extra]"></ng-content>
        </h1>
        @if (subtitle) {
          <p class="page-subtitle">{{ subtitle }}</p>
        }
      </div>
    </div>

    <!-- Actions Slot -->
    <div class="header-actions">
      <ng-content select="[actions]"></ng-content>
    </div>
  </div>
</div>
